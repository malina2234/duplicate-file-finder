# Поиск дубликатов файлов (Duplicate File Finder)

## 1. Краткое описание проекта

### Назначение
Это консольное Java-приложение, предназначенное для рекурсивного сканирования указанной директории и поиска файлов-дубликатов. Идентификация дубликатов происходит путем сравнения их хэш-сумм, с предварительной оптимизацией через группировку по размеру.

Проект разработан в рамках лабораторной работы №3 по теме Автоматизация сборки, тестирования и развертывания программного обеспечения в системе CI/CD.

### Технологический стек
*   **Язык:** Java 17
*   **Система сборки:** Gradle
*   **Тестирование:** JUnit 5
*   **CI/CD:** GitHub Actions

---

## 2. Пример работы

### Входные данные
Для демонстрации работы необходимо создать структуру папок и файлов. Например, в директории `data`:

data/

├── archive/

│ └── photo_backup.jpg (копия photo.jpg)

├── документ.txt

├── документ_копия.txt (копия документ.txt)

├── photo.jpg

└── unique_file.txt (уникальный файл)

### Вывод в консоль
После запуска приложение выведет отчет о найденных группах дубликатов:
```bash
Запуск поиска дубликатов
Сканирование директории: ./data
Найдено файлов для анализа: 5

 Найдены дубликаты 

Группа 1 (Хэш: ed076287532e86365e841e92bfc50d8c):
 - C:\path\to\project\data\документ.txt
 - C:\path\to\project\data\документ_копия.txt

Группа 2 (Хэш: d41d8cd98f00b204e9800998ecf8427e):
 - C:\path\to\project\data\archive\photo_backup.jpg
 - C:\path\to\project\data\photo.jpg
```


## 3. Сборка и запуск: Пошаговое руководство

Это руководство поможет вам скачать, настроить и запустить проект на вашем компьютере.

### Шаг 0: Предварительные требования

Перед началом убедитесь, что на вашем компьютере установлены:

1.  **Java Development Kit (JDK) версии 17 или новее.**
   *   *Как проверить?* Откройте терминал (командную строку)  ( кнопка windows + R , и в открывшемся окне ввести cmd ) и введите `java -version`. Если версия 17 или выше, все отлично.
   *   *Где скачать?* Рекомендуется [Adoptium Temurin 17 (LTS)](https://adoptium.net/temurin/releases/?version=17).


### Шаг 1: Скачивание (клонирование) проекта

1.  Откройте терминал.
2.  Создать и перейти в папку, куда хотите сохранить проект ( потом в этой папке нажать на правую клавишу тачпада и открыть терминал).
![img_3.png](img_3.png)

3.  Выполните команду `git clone`, чтобы скопировать проект с GitHub:
    ```bash
    git clone https://github.com/malina2234/duplicate-file-finder.git
    ```
4.  Перейдите в только что созданную папку проекта. **Все дальнейшие команды выполняются из нее.**
    ```bash
    cd duplicate-file-finder
    ```

### Шаг 2: Настройка 

Проекту для работы нужен конфигурационный файл и папка с данными.

1.  **Создайте файл конфигурации `app.properties`** зайдя в скаченную папку `duplicate-file-finder` ( это можно сдлетаь открыв приложение Indelig Idea и открыть там скаченный проект, нажав правой клавишей на тачпаде  на верхнюю строку с названием duplicate-file-finder и там будет `добавить файл` и добавляем файл с названием `app.properties`)

   **После того как создали файл , скопируйте этот текст и вставьте туда** : 

    ```properties
    # Папка для сканирования (относительно корня проекта).
    scan.directory=./data

    # Алгоритм хеширования: можно MD5 или SHA-256.
    hash.algorithm=MD5

    # Папки, которые нужно игнорировать.
    scan.ignore.dirs=target,.git,build
    ```

2.  **Создайте папку `data` ( можно таким же способом или просто в проводнике , зайдя в папку `duplicate-file-finder` нажмите там создать папку и назовите `data`) для поиска дубликатов.**
   *   Поместите в нее несколько любых одинаковых файлов ( можно две одинаковые картинки) . **Обязательно создайте одинаковые файлы**, чтобы программа нашла дубликаты.

### Шаг 3: Сборка проекта

Теперь нужно скомпилировать Java-код в исполняемый файл. Проект использует Gradle Wrapper, поэтому вам не нужно ничего устанавливать дополнительно.
    
 Эту команду можно ввести в терминале приложения нажав на третий виджет.

![img_1.png](img_1.png)

скопируйте и вставьте эту команду :
*   **На Windows:**
    ```bash
    ./gradlew.bat build
    ```
*   **На macOS или Linux:**
    ```bash
    ./gradlew build
    ```
Дождитесь сообщения `BUILD SUCCESSFUL`. Это может занять некоторое время при первом запуске.

### Шаг 4: Запуск приложения

После успешной сборки в проекте появится папка `build/libs`. Внутри нее находится готовый `.jar` файл.

1. Запустите приложение через терминал в этом же приложении с помощью команды:
    ```bash
    java -jar build/libs/duplicate-file-finder-1.0.0.jar
    ```

 **Готово!** В консоли вы увидите отчет о найденных дубликатах в вашей папке `data`.

---

## 4. Запуск тестов

Проект покрыт тестами для проверки корректности основной логики. Чтобы запустить их, выполните команду:

*   **На Windows:**
    ```bash
    ./gradlew.bat test
    ```
*   **На macOS или Linux:**
    ```bash
    ./gradlew test
    ```
После успешного выполнения вы можете найти детальный HTML-отчет в файле `build/reports/tests/test/index.html`.

---

## 5. CI/CD (GitHub Actions)

В репозитории настроен CI/CD пайплайн с использованием GitHub Actions (`.github/workflows/ci.yml`).

**Данный пайплайн выполняет следующие действия автоматически:**
1.  **Триггер:** Запускается при каждом `push` в ветку `master`.
2.  **Матричная сборка:** Запускает два параллельных задания для проверки работы на разных операционных системах:
   *   `ubuntu-latest`
   *   `windows-latest`
3.  **Сборка и тестирование:** На каждой ОС выполняется команда `./gradlew build`, которая компилирует код и запускает все JUnit-тесты.
4.  **Публикация артефакта:** В случае успешного завершения сборки на Ubuntu, итоговый `.jar` файл публикуется как артефакт. Его можно скачать прямо со страницы запуска workflow во вкладке "Actions".
## ТЕПЕРЬ ВСЁ